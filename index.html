<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les stations de radio Burundi/Rwanda</title>
     <!-- Include Firebase SDK -->
     <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
     <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="manifest" href="manifest.json">
    <!-- Description for search engines -->
    <meta name="description" content="Découvrez les meilleures stations de radio au Burundi et au Rwanda. Écoutez vos émissions préférées en direct.">
    
    <!-- Keywords for search engines -->
    <meta name="keywords" content="radio, Burundi, Rwanda, stations de radio, musique, émissions, actualités">
    
    <!-- Author of the website -->
    <meta name="author" content="Emmadiblo">
    
    <!-- Robots meta tag for SEO -->
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph tags for social media sharing -->
    <meta property="og:title" content="Les stations de radio Burundi/Rwanda">
    <meta property="og:description" content="Découvrez les meilleures stations de radio au Burundi et au Rwanda. Écoutez vos émissions préférées en direct.">
    <meta property="og:image" content="https://emmadiblo.github.io/birastat/">
    <meta property="og:url" content="https://emmadiblo.github.io/birastat/favicon.ico">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Les stations de radio Burundi/Rwanda">
    <meta name="twitter:description" content="Découvrez les meilleures stations de radio au Burundi et au Rwanda. Écoutez vos émissions préférées en direct.">
    <meta name="twitter:image" content="https://emmadiblo.github.io/birastat/favicon.ico">
    
    <!-- Charset for older browsers -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">


    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.3.1/css/all.css'>
    <link rel="stylesheet" href="styles.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4795015952384621"
    crossorigin="anonymous"></script>

    <style>

        a{
            text-decoration: none;
        }

.download-link {
    display: inline-flex;
    align-items: center;
    text-decoration: none; 
    color: #007bff; 
    font-size: 16px; 
    padding: 10px 15px; 
    border: 2px solid #007bff; 
    border-radius: 5px; 
    transition: background-color 0.3s, color 0.3s; 
}

.download-link:hover {
    background-color: #007bff; 
    color: white; 
}

.record {
	position:relative;
	left:47%;
	width:37px;	height:37px;
	color:#fff;
	background:var(--primary-color);
	font-size:1.1em;
	line-height:37px;
	text-align:center;
	border-radius:50% 50%;
	border:1px solid #fff; 
}
.recorder{
    max-height: 35px;
    display: flex;
    justify-content: space-around;
}

.rec-effect {
	transition: box-shadow 0.33s ease-in-out;
	animation: rec-effect 1s infinite;
}

.playing{
    animation: rec-effect 1s infinite;
}
@keyframes rec-effect {
	0% {
		box-shadow: 0 0 0 0 #333,
		0 0 0 0 rgba(0,255,0,.3),
		0 0 0 0 rgba(0,255,0,.3);	
	}
	11% {
		box-shadow: 0 0 0 7px #333,
		0 0 0 23px #3f3,
		0 0 0 0 #3f5;
	}
	77% {
		box-shadow: 0 0 0 0 #333,
		0 0 0 11px rgba(0,255,0,.3),
		0 0 0 33px rgba(0,255,0,.3);
	}
}
  

.error {
    background-color: red;
    color: white;
    padding: 10px;
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    display: none; 
}

.success {
    background-color: green;
    color: white;
    padding: 10px;
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    display: block; 
}

nav{
    z-index: 8000;
  position: fixed;
  width: 30px;
  margin-top: 90px;
  right: 0;
  transition: all 0.3s linear;
  box-shadow: 2px 2px 8px 0px rgba(0,0,0,.4);
}
nav li{
  height: 30px;
list-style: none;
  margin: 2px;
  position:relative;
}
nav li a{
  color: white;
  display: block;
  height: 100%;
  width: 100%;
  line-height: 60px;
  padding-right:25%;
  border-bottom: 1px solid rgba(0,0,0,.4);
  transition: all .3s linear;
}
nav li:nth-child(1) a{
  background: #4267B2;
}

nav li:nth-child(2) a{
  background: #E1306C;
}
nav li:nth-child(3) a{
  background: #2867B2;
}


nav li a i{
  position:absolute;
  top: 5px;
  left: 5px;
  font-size: 17px;
}

/* //install app */
.modal,.contactus {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 2000; 
}

.modal-box {
    background-color: var(--background-color); 
    padding: 20px;
    border-radius: var(--border-radius); 
    box-shadow: var(--shadow); 
    text-align: center;
    width: 350px; 
}

.modal h2,.contactus h2{
    color: var(--primary-color); 
}

.modal h3, .contactus h4 {
    color: var(--text-color); 
}

.buttons {
    margin-top: 20px;
}

.modal button,.contactus button {
    background-color: var(--secondary-color); 
    color: #fff; 
    border: none;
    border-radius: var(--border-radius); 
    padding: 10px 15px;
    cursor: pointer;
    margin: 5px; 
    transition: background-color 0.3s;
}

.modal button:hover,.contactus .send-button:hover {
    background-color: var(--accent-color); 
}


.close-btn:hover {
    background-color:var(--red-color); 
} 


.progress-container {
  width: 100%;
  height: 10px;
  background-color: #f0f0f0;
  border-radius: 5px;
  margin: 10px 0;
  overflow: hidden;
}

.progress-bar {
  width: 0;
  height: 100%;
  background-color: #4CAF50;
  transition: width 0.3s ease;
}

.visiteurs{
    margin: 20px;
}

#user-count {

    font-weight: bold;
    color: #FF5722;
    font-size: 1.5em;
    display: inline-block;
    transition: transform 0.3s ease-in-out;
}

.count {
    opacity: 0;
    transform: scale(0.5);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.show {
    opacity: 1;
    transform: scale(1);
}

</style>
</head>
<body>
    <div class="initial-loading" id="loader-container">
        <div class="loader" ></div>
    </div>

    <nav>
        <ul>
           <li><a href="https://www.facebook.com/emmadiblouwizeyimana"><i class="fab fa-facebook-f"></i></a></li>
           <li><a href="mailto:emmadiblouwizeyimana@gmail.com?subject=Birastat%2C%20Contact"><i class="fa fa-envelope"></i></a></li>
           <li><a href="https://www.linkedin.com/in/emmadiblouwizeyimana"><i class="fab fa-linkedin-in"></i></a></li>
      
        </ul>
     </nav>

<div id="contentWrapper" class="content-wrapper">

 
<div class="container">

   <div class="header" id="head">

         
      <div class="filters" >
              <div class="logo">
                    
                    <a href="./"><h1 class="title" style="margin-right: auto; color: var(--accent-color);">Birastat</h1></a>
  
                <div class="search-bar">
                    <input type="text" id="search" autofocus placeholder="Rechercher par nom, genre...">
               </div>
            </div>
           
                <div class="filter-group">

                    <select id="countryFilter">
                        <option value="">Tous les pays</option>
                    </select>

                    <select id="genreFilter">
                        <option value="">Tous les genres</option>
                    </select>

                    <select id="languageFilter">
                        <option value="">Toutes les langues</option>
                    </select>
                </div>

                <div style="display: flex; justify-content: space-between">
                <a href="#" onclick="showModal()"> <i class="fas fa-comment" style="font-size: 50px;color: var(--accent-color);"></i></a>
                <div id="toggleThemeBtn">
                    <input type="checkbox" id="toggle"/>
                    <label for="toggle"></label>
                </div>
            </div>
        </div>

    </div>

            <section class="stations-section" >
                <h2 class="section-title">Stations Radio <span id="stationCount"></span></h2>
                <div id="loadingSpinner" class="spinner" style="display: none;"></div>
                <div class="stations-grid" id="stations"></div>
                <button class="load-more" id="loadMore">Voir plus</button>
            </section>

            <hr>

            <section class="favorites-section" id="favoritesSection">
                <h2 class="section-title">Favoris <span id="favoritesCount"></span></h2>
                <div class="stations-grid" id="favorites"></div>
                <p id="noFavorites" class="no-content-message" style="display: none;">
                    Aucune station favorite pour le moment
                </p>

        
            </section>
</div>
        <div id="statusMessage" style="display:none; position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background-color: rgba(0, 0, 0, 0.7); color: white; padding: 10px; border-radius: 5px;">
            La radio n'est pas disponible pour le moment, veuillez jouer l'autre station.
        </div>


        <section class="modal" >
            <span class="overlay"></span>
            <div class="modal-box">
                <i class="fa fa-check-circle" style="font-size: 50px;"></i>
                <h2>Birastat</h2>
                <h3>Ça sera mieux d'utiliser l'application</h3>
                
                <div class="buttons">
                    <button class="close-btn">Ignorer</button>
                    <button id="install-button">Installer l'application</button>
                </div>
            </div>
        </section>

        <section class="contactus" style="display: none;">
            <span class="overlay"></span>
      
            <div class="modal-box">
                <i class="fas fa-comment" style="font-size: 50px;"></i>

                <h2>Contactez- Nous</h2>
                <br>
                <h4>Suggérez des améliorations, faites des alertes pour tout ce qui ne va pas</h4>
                <br>
                <form id="suggestionForm">

                    <input type="text" id="name" name="name" placeholder="Nom et prénom" required>
                    <select id="pays" name="pays" required>
                        <option value="">Pays d'écoute</option>
                        <option value="Burundi">Burundi</option>
                        <option value="Rwanda">Rwanda</option>
                        <option value="Autre">Autre</option>
                    </select>
        
                    <select id="contactType" name="contactType" required>
                        <option value="">Choisissez le type de contact</option>
                        <option value="Problème de la station">Problème de station</option>
                        <option value="Ajout d'une station">Suggérer une station à ajouter</option>
                        <option value="Améliorations">Autres améliorations</option>
                        <option value="Appreciations">Appréciations</option>
                    </select>
                    
                
                    <input type="text" id="station" name="station" placeholder="Quelle station ?" style="display: none;"  />
        
                
                    <select id="probleme" name="probleme" style="display: none;" >
                        <option value="">Choisissez le problème de la station</option>
                        <option value="ne fonctionne pas">La station ne fonctionne pas</option>
                        <option value="a un signal faible">Le signal est faible</option>
                    </select>
                    

        
                    <input type="text" id="autrePays" name="autrePays" placeholder="Veuillez spécifier votre pays" style="display: none;" />
        
                    <textarea id="description" name="description" placeholder="Message supplémentaire ici..." ></textarea>
                    <select id="contactPratform" name="contactPratform" required>
                        <option value="">Envoyer le message via:</option>
                        <option value="email">Email (Gmail)</option>
                        <option value="whatsapp">WhatsApp</option>
                    </select>

                    <div class="buttons">
                        <button class="close-btn" id="close-btn">Fermer</button>
                        <button type="submit" id="send-button" class="send-button"><i class="fas fa-paper-plane"></i>
                            Envoyer</button>
                    </div>
                </form>
            </div>
        </section>
        
 
        
        
        
        <style>

	.contactus input,.contactus select ,.contactus textarea{
	    width: 100%;
	    margin: 10px 2%;
	}
      
        </style>

	<div class="visiteurs">
	    <h2>Bienvenue sur notre site !</h2>
	    <p> Nombre de visiteurs depuis le 1/12/2024: <span id="user-count">0</span></p>
	</div>
	        

<div class="player" id="player-content">

   <div class="recorder">
       <p id="playerStatus" style="color: var(--primary-color);"></p>

      <div id="status"></div>
     
     <button id="stop" style="display: none;padding: 10px;">Arrêter</button>
   
     <div class="control">

    <div class="record" id="start" type="button">
        <i class="fa fa-microphone"></i>
    </div>
    </div>

        <div  id="downloadLinkContainer" style="display: none;"></div>
            <button id="refreshButton" style="display: none;padding: 10px;" onclick="window.location.reload()">Actualiser Pour enregistrer l'autre audio</button>     
        </div>
               <div class="player-info">
                    <img id="currentStationLogo" class="station-logo" src="https://media3.giphy.com/media/lReVblhSRtxXtfK81w/200w.gif?cid=6c09b952792u4klgf1gnqlzd5y6zfxt0aqqjts2bvkng0g5m&ep=v1_gifs_search&rid=200w.gif&ct=g" alt="Radio logo">
                    <div class="player-details">
                        <h3 id="currentStationName">Sélectionnez ou Rechercher une station à ecouter</h3>
                        <div id="currentStationInfo"></div>
                    </div>

                    <div id="player-controls">

                        <div class="control">
                        <div class="loadaudio" id="loadaudio" style="display: none;"></div>

                        <audio id="audioPlayer" >
                            <source  type="audio/mpeg">
                            Your browser does not support the audio tag.
                        </audio>
                        
                        <div class="button" id="playPauseBtn">
                            <i class="fas fa-play" id="playPauseIcon"></i>
                        </div>
                        </div>

                      </div>

    
                </div>

                  <div class="rangeWrap">
                    <input type="range" id="volumeSlider" list="ticks" min="0" max="100" value="50" />
                    <datalist id="ticks">
                        <option value="0" label="0%"></option>
                        <option value="25" label="25%"></option>
                        <option value="50" label="50%"></option>
                        <option value="75" label="75%"></option>
                        <option value="100" label="100%"></option>
                    </datalist>
                
                    <p class="percent">Volume: <span id="volumeValue">50%</span></p>
        
                </div>

        </div>

</div>

<hr>
<footer class="footer-distributed">

    <div class="footer-left">

        <h3>Birastat<span>Radio</span></h3>

        <p class="footer-links">
         
            <a href="#head">Rechercher</a>
        
            <a href="#favoritesSection">Favoris</a>
            <a href="#" onclick="showModal()">Contact, suggestions</a>
        
        </p>

        <p class="footer-company-name">Birastat © 2024</p>
    </div>

    <div class="footer-center">

        <div>
            <i class="fa fa-map-marker"></i>
            <p><span>Kiriri</span>Bujumbura, Burundi</p>
        </div>

        <div>
            <i class="fa fa-phone"></i>
            <p>+257 65517561</p>
        </div>

        <div>
            <i class="fa fa-envelope"></i>
            <p><a href="mailto:emmadiblouwizeyimana@gmail.com?subject=Birastat%2C%20Contact">emmadiblouwizeyimana@gmail.com</a></p>
        </div>

    </div>

    <div class="footer-right">
        <h3>Apropos de Birastat</h3>
        <br>
        <p class="footer-company-about">

Birastat est une application conçue pour aider les Burundais et les Rwandais d'écouter en ligne les stations de Radio qu'ils aiment
        </p>
      
    </div>

</footer>
<div id="ad-container" style="display: none;">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4795015952384621"
            crossorigin="anonymous"></script>
    <!-- Annonce -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-4795015952384621"
         data-ad-slot="5419132659"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<script>
    let deferredPrompt;
    const modal = document.querySelector('.modal');
    const closeBtn = document.querySelector('.close-btn');
    const installButton = document.getElementById('install-button');

    // Vérifie si l'app est déjà installée
    function isInstalled() {
        return window.navigator.standalone || window.matchMedia("(display-mode: standalone)").matches;
    }

    // Événement pour vérifier l'état d'installation au chargement de la page
    document.addEventListener('DOMContentLoaded', () => {
        if (isInstalled()) {
            console.log('Application déjà installée');
            modal.style.display = 'none';
        } else {
            console.log('Application non installée - affichage de la modale');
            modal.style.display = 'flex';
        }

        // Initialisation du lecteur audio
        const audioPlayer = document.getElementById('audioPlayer');
        const audioRecorder = new AudioRecorder(audioPlayer);
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playPauseIcon = document.getElementById('playPauseIcon');
        const volumeBtn = document.getElementById('volumeBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeValue = document.getElementById('volumeValue');

        // Initialiser le volume
        audioPlayer.volume = volumeSlider.value / 100;

        // Jouer/Pause
        playPauseBtn.addEventListener('click', () => {
            if (audioPlayer.paused) {
                audioPlayer.play();
                playPauseIcon.classList.remove('fa-play'); // Retirer l'icône de lecture
                playPauseIcon.classList.add('fa-pause'); // Ajouter l'icône de pause
            } else {
                audioPlayer.pause();
                playPauseIcon.classList.remove('fa-pause'); // Retirer l'icône de pause
                playPauseIcon.classList.add('fa-play'); // Ajouter l'icône de lecture
            }
        });

        // Volume
        volumeValue.textContent = (audioPlayer.volume * 100) + '%'; // Affiche le volume actuel
        volumeSlider.addEventListener('input', (e) => {
            const volume = e.target.value;
            volumeValue.textContent = volume + '%'; // Met à jour l'affichage du volume
            audioPlayer.volume = volume / 100;
        });

        // Mode jour/nuit
        const toggle = document.querySelector('#toggle');
        const currentTheme = localStorage.getItem('theme') || 'light';

        // Appliquer le thème au chargement
        document.documentElement.setAttribute('data-theme', currentTheme);
        toggle.checked = currentTheme === 'dark';

        toggle.addEventListener('change', () => {
            const theme = document.documentElement.getAttribute('data-theme');
            const newTheme = theme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });
    });

    // Gestion de l'installation de l'application
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault(); // Empêche le prompt automatique
        deferredPrompt = e;

        // Si l'app n'est pas installée, afficher le modal
        if (!isInstalled()) {
            modal.style.display = 'flex';
            console.log('Application installable - affichage de la modale');
        }
    });

    // Bouton "Installer"
    installButton.addEventListener('click', async () => {
        if (!deferredPrompt) return;

        try {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;

            if (outcome === 'accepted') {
                console.log('Installation acceptée');
            } else {
                console.log('Installation refusée');
            }

            modal.style.display = 'none';
            deferredPrompt = null;
        } catch (error) {
            console.error('Erreur d\'installation :', error);
        }
    });

    // Fermeture manuelle de la modale
    closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    // Service Worker
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('service-worker.js')
                .then(registration => {
                    console.log('Service Worker enregistré :', registration);
                })
                .catch(error => {
                    console.error('Erreur SW :', error);
                });
        });
    });

    // Gestion du formulaire de contact
    (function () {
        const form = document.getElementById('suggestionForm');
        const closeBtn = document.querySelector('#close-btn');
        const overlay = document.querySelector('.overlay');
        const suggest = document.querySelector('.contactus');
        const paysSelect = document.getElementById('pays');
        const autrePaysInput = document.getElementById('autrePays');
        const contactTypeSelect = document.getElementById('contactType');
        const stationInput = document.getElementById('station');
        const problemeSelect = document.getElementById('probleme');

        function showModal() {
            suggest.style.display = 'flex';
        }
        window.showModal = showModal;

        function closeModal() {
            suggest.style.display = 'none';
        }

        closeBtn.addEventListener('click', closeModal);
        overlay.addEventListener('click', closeModal);

        paysSelect.addEventListener('change', function () {
            autrePaysInput.style.display = paysSelect.value === 'Autre' ? 'block' : 'none';
            autrePaysInput.required = paysSelect.value === 'Autre';
        });

        contactTypeSelect.addEventListener('change', function () {
            const isStationProblem = contactTypeSelect.value === 'Problème de la station';
            const isStationAddition = contactTypeSelect.value === "Ajout d'une station";

            stationInput.style.display = isStationProblem || isStationAddition ? 'block' : 'none';
            stationInput.required = isStationProblem || isStationAddition;

            problemeSelect.style.display = isStationProblem ? 'block' : 'none';
            problemeSelect.required = isStationProblem;
        });

        form.addEventListener('submit', function (event) {
            event.preventDefault();

            // Validation des champs
            const contactPratform = document.getElementById('contactPratform').value;
            const contactType = contactTypeSelect.value;
            const name = document.getElementById('name').value;
            const pays = paysSelect.value;
            const autrePays = autrePaysInput.style.display === 'block' ? autrePaysInput.value : '';
            const description = document.getElementById('description').value;
            const station = stationInput.style.display === 'block' ? stationInput.value : '';
            const probleme = problemeSelect.style.display === 'block' ? problemeSelect.value : '';

            if (!contactPratform || !contactType || !name || !pays || (pays === 'Autre' && !autrePays)) {
                alert('Veuillez remplir tous les champs requis.');
                return;
            }

            if ((contactType === 'Problème de la station' || contactType === "Ajout d'une station") && !station) {
                alert('Veuillez spécifier la station.');
                return;
            }

            if (contactType === 'Problème de la station' && !probleme) {
                alert('Veuillez spécifier le problème de la station.');
                return;
            }

            let message = `
                Bonjour Emma! Je m'appelle ${name}, j'habite au ${pays === 'Autre' ? autrePays : pays}.
                Message : ${description}
            `;

            if (contactType === 'Problème de la station') {
                message += `\nAlerte : la station "${station}" ${probleme}.`;
            } else if (contactType === "Ajout d'une station") {
                message += `\nJ'aimerais que vous ajoutiez la station : "${station}".`;
            }

            const subject = encodeURIComponent(`${contactType} - Contact via Birastat`);
            const encodedMessage = encodeURIComponent(message);

            if (contactPratform === 'email') {
                const mailtoLink = `mailto:emmadiblouwizeyimana@gmail.com?subject=${subject}&body=${encodedMessage}`;
                window.location.href = mailtoLink;
                alert("Gmail va s'ouvrir ...");
            } else if (contactPratform === 'whatsapp') {
                const whatsappMessage = `${subject} ${encodedMessage}`;
                window.open(`https://wa.me/25765517561?text=${whatsappMessage}`, '_blank');
                alert("WhatsApp va s'ouvrir...");
            } else {
                alert("Veuillez sélectionner une plateforme de contact.");
            }

            form.reset();
            closeModal();
        });
    })();

    // Chargement de la page
    window.onload = function () {
        const loader = document.getElementById('loader-container');
        loader.style.opacity = 0;

        setTimeout(() => {
            loader.style.display = 'none';
            document.getElementById('contentWrapper').style.display = 'block';
        }, 2000);
    };

    // Configuration de Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyC3cFYAck46dsgi37oBmjv20FiGqF1cRS8",
        authDomain: "weber-d9ace.firebaseapp.com",
        databaseURL: "https://weber-d9ace-default-rtdb.firebaseio.com",
        projectId: "weber-d9ace",
        storageBucket: "weber-d9ace.firebasestorage.app",
        messagingSenderId: "865412247130",
        appId: "1:865412247130:web:6aa1a7829d57c444e33263",
        measurementId: "G-E5T6M2FHST"
    };

    // Initialiser Firebase
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Fonction pour générer un ID unique pour le visiteur
    function generateVisitorId() {
        let visitorId = localStorage.getItem('visitorId');
        if (!visitorId) {
            visitorId = Date.now().toString(36) + Math.random().toString(36).substr(2);
            localStorage.setItem('visitorId', visitorId);
        }
        return visitorId;
    }

    // Référence à la base de données
    const visitorsRef = database.ref('visitors');
    const visitorId = generateVisitorId();

    // Vérifie si c'est un nouveau visiteur
    visitorsRef.child(visitorId).once('value')
        .then((snapshot) => {
            if (!snapshot.exists()) {
                // Nouveau visiteur
                return visitorsRef.child(visitorId).set({
                    firstVisit: firebase.database.ServerValue.TIMESTAMP
                });
            }
        })
        .then(() => {
            // Compte le nombre total de visiteurs uniques
            return visitorsRef.once('value');
        })
        .then((snapshot) => {
            const count = snapshot.numChildren();
            document.getElementById('user-count').textContent = count;
        })
        .catch((error) => {
            console.error("Erreur:", error);
        });

    // Écoute les changements dans le nombre total de visiteurs
    visitorsRef.on('value', (snapshot) => {
        const count = snapshot.numChildren();
        document.getElementById('user-count').textContent = count;
    });

    // Fonction pour mettre à jour le nombre de visiteurs avec animation
    function updateVisitorCount(count) {
        const userCountElement = document.getElementById('user-count');
        userCountElement.classList.remove('show');

        // Mettre à jour le texte après une courte pause pour l'animation
        setTimeout(() => {
            userCountElement.textContent = count;
            userCountElement.classList.add('show');
        }, 300); // Délai correspondant à l'animation
    }

    // Écoute les changements dans le nombre total de visiteurs
    visitorsRef.on('value', (snapshot) => {
        const count = snapshot.numChildren();
        updateVisitorCount(count);
    });
</script>

<script src="js/script.js"></script>
<script src="js/audiorecorder.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lamejs/1.2.0/lame.min.js"></script>
	
</html>
